---
mode: agent
---

# Galaxy Blaster 遊戲開發專案

## 開發指引

- 這是一個使用 Python 和 Pygame 建立的遊戲專案
- 請符合「程式碼開發風格指南」
- 本專案遊戲名稱為「Galaxy Blaster」，圖片先不需要使用，只用幾何形狀暫時替代
- 請用好維護、好理解的檔案架構進行建立
- 功能可以進行測試，但是測試完畢之後要移除相關測試檔案
- 除了 README.md 檔案之外，其他檔案不需要額外的說明文件
- 不要建立 Python 虛擬環境，直接使用系統的 Python 環境就好

## 新功能規格：Ship Battle 模式

### 遊戲概述

- 遊戲名稱：「Ship Battle」
- 位置：在主選單畫面中
- 啟動方式：按下 "m" 鍵開始新遊戲

### 玩家設定

- **玩家命名**：玩家可以在主選單畫面選擇自己的名稱，名稱可隨時修改
- **對戰對象**：玩家永遠與機器人對戰
- **機器人名稱**：「RoboWarrior」

### 遊戲開始流程

1. 按下 "m" 鍵後，畫面顯示對戰雙方名稱
2. 顯示玩家與對手的名稱
3. 等待 5 秒後，戰鬥正式開始

### 戰鬥設定

- **太空船分配**：玩家和機器人都會隨機獲得一艘太空船
- **武器分配**：玩家和機器人都會隨機獲得武器
- **移動範圍**：雙方都可以在螢幕內任意移動，但不能超出螢幕邊界

### 操作控制

#### 玩家操作

- **移動**：方向鍵或 WASD 鍵
- **射擊**：按住 "Shift" 鍵
- **特殊攻擊**：按 "Space" 鍵
- **使用血瓶**：按 "i" 鍵
- **退出戰鬥**：按 "q" 鍵返回主選單

#### 機器人行為

- **移動**：自動在螢幕內移動
- **射擊**：隨機射擊
- **特殊攻擊**：隨機使用特殊攻擊
- **使用血瓶**：自動使用血瓶

### 血量系統

- **初始血量**：雙方都有 100 血量
- **血量顯示**：在螢幕頂部顯示雙方血量
- **血瓶效果**：每個血瓶可以恢復 50 血量
- **血瓶數量**：每方各有一個血瓶

### 遊戲結束條件

#### 玩家勝利

- **觸發條件**：擊敗機器人
- **視覺效果**：雪花從天而降
- **顯示文字**：螢幕頂部顯示「Victory」
- **結束動作**：返回主選單

#### 玩家失敗

- **觸發條件**：被機器人擊敗
- **視覺效果**：烏鴉飛過螢幕
- **顯示文字**：螢幕頂部顯示「Defeat」
- **結束動作**：返回主選單

### 其他規則

- 戰鬥過程中，雙方都不能移動到螢幕外
- 按 "q" 鍵可隨時退出戰鬥，返回主選單
