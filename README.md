# Galaxy Blaster - Space Shooter Game 🚀

一個使用 Python 和 Pygame 開發的太空射擊遊戲，包含經典的太空戰鬥、Boss 戰系統，以及全新的多人躲貓貓遊戲模式。

## 🎮 遊戲特色

### 🎯 三種遊戲模式

#### 1. 經典太空戰鬥模式

- **主畫面系統**: 精美的主畫面，點擊開始遊戲
- **太空戰鬥**: 操作太空船射擊敵人，體驗爽快戰鬥
- **Boss 戰系統**: 擊敗 60 個敵人後觸發史詩 Boss 戰
- **星星收集**: 擊敗敵人獲得星星作為遊戲貨幣
- **商店系統**: 集滿 40 顆星星解鎖商店，購買武器和道具
- **道具掉落**: 隨機掉落各種增益道具和危險炸彈
- **勝利禮物**: Boss 戰勝利後獲得特殊禮物，返回主畫面

#### 2. 太空船對戰模式

- **1v1 機器人對戰**: 與智能 AI 機器人進行空中對戰
- **動態戰鬥**: 快節奏的飛行戰鬥體驗
- **技能對決**: 考驗操作技巧和戰術運用

#### 3. 躲貓貓模式 🔥 (全新功能)

- **5 人多人遊戲**: 1 名真人玩家 + 4 名 AI 機器人
- **平衡角色分配**: 隨機分配 2 名搜尋者和 3 名躲藏者
- **60 秒限時**: 緊張刺激的時間競賽
- **隨機地圖**: 每局隨機生成障礙物地圖
- **5 種太空船**: 每位玩家隨機獲得獨特太空船外觀
- **5 種道具**: 速度提升、隱身、傳送、護盾、冰凍免疫
- **快節奏戰鬥**: 搜尋者可擊殺躲藏者，躲藏者可冰凍搜尋者 (1 秒冷卻)
- **幽靈模式**: 死亡後變成幽靈觀戰，可自由飛行觀看全局
- **小地圖**: 即時顯示所有玩家位置（除隱身狀態）
- **智能 AI**: AI 具備角色感知和戰術行為

### Boss 戰系統 ⚔️

- **觸發條件**: 擊敗 60 個敵人後自動觸發
- **Boss 移動**: 在螢幕頂部左右移動
- **垃圾攻擊**: 每 2 秒發射垃圾，造成 20 點傷害
- **扇形散彈**: 每 5 秒發射 7 發散彈攻擊
- **血量顯示**: 螢幕頂部顯示 Boss 血量條
- **高血量**: Boss 擁有 300 點生命值
- **勝利獎勵**: 擊敗後掉落金色禮物，包含隨機強力藥水

### 武器系統

- **Basic Weapon**: 基本黃色子彈，傷害 15
- **Laser Weapon**: 紅色雷射，傷害 25
- **Plasma Weapon**: 紫色電漿彈，傷害 40
- **Missile Launcher**: 橙色飛彈，傷害 60
- **Ion Cannon**: 青色離子砲，傷害 80
- **武器切換**: 按空白鍵切換武器類型

### 太空船系統

- **Explorer**: 探索者，平衡型，特殊攻擊：三重射擊
- **Fighter**: 戰鬥機，速度快，特殊攻擊：快速連射
- **Interceptor**: 攔截機，超高速，特殊攻擊：散射攻擊
- **Destroyer**: 驅逐艦，重型，特殊攻擊：重型飛彈
- **Battleship**: 戰艦，最強防禦，特殊攻擊：離子砲轟擊

### 敵人類型

- **Basic Enemy**: 基本紅色敵人，生命值 30
- **Fast Enemy**: 橙色快速敵人，生命值 20
- **Boss**: 大型紫色 Boss，生命值 300，雙重攻擊模式

### 道具系統

- **星星**: 遊戲貨幣，用於商店購買
- **回血藥水**: 恢復 30 點生命值
- **加速藥水**: 提升移動速度
- **防護藥水**: 增加 50 點生命值
- **炸彈**: 危險物品，碰觸即死亡
- **Boss 禮物**: 金色禮物盒，含隨機強力藥水和 10 顆星星

## 🎯 操作方式

### 主畫面

- **滑鼠點擊**: 點擊對應按鈕
- **G 鍵**: 開始經典太空戰鬥
- **B 鍵**: 開始太空船對戰模式
- **L 鍵**: 開始躲貓貓遊戲
- **Enter**: 輸入姓名後確認

### 經典太空戰鬥

- **方向鍵** 或 **WASD**: 移動太空船
- **Ctrl** 或 **Shift**: 射擊
- **空白鍵**: 切換武器
- **C 鍵**: 切換太空船
- **X 鍵**: 發動特殊攻擊（大招）
- **S 鍵**: 開啟商店（需要 40 顆星星）
- **ESC**: 關閉商店

### 躲貓貓遊戲

- **方向鍵** 或 **WASD**: 移動太空船
- **空白鍵**: 特殊攻擊（搜尋者攻擊/躲藏者冰凍，1 秒冷卻）
- **E 鍵**: 使用道具
- **Q 鍵**: 退出遊戲返回主畫面
- **T 鍵**: 幽靈狀態下返回主畫面
- **Tab 鍵**: 切換小地圖顯示/隱藏

### 遊戲結束畫面

- **Enter**: 返回主畫面
- **R 鍵**: 重新開始遊戲

## 🎮 躲貓貓遊戲詳細說明

### 🎯 遊戲目標

- **搜尋者 (2 名)**: 在 60 秒內找到並擊殺所有躲藏者
- **躲藏者 (3 名)**: 躲避搜尋者的追捕，存活到時間結束

### � 太空船樣式 (隨機分配)

1. **Style 1**: 三角形設計，紅色主色調
2. **Style 2**: 鑽石形設計，綠色主色調
3. **Style 3**: 五角形設計，藍色主色調
4. **Style 4**: 六角形設計，黃色主色調
5. **Style 5**: 八角形設計，紫色主色調

### 🎁 道具系統 (隨機分配)

每位玩家開始時獲得 3 次使用的隨機道具：

| 道具            | 效果                       | 持續時間 |
| --------------- | -------------------------- | -------- |
| speed_boost     | 移動速度提升 100%          | 5 秒     |
| invisibility    | 完全隱身，小地圖上不顯示   | 3 秒     |
| teleport        | 隨機傳送到地圖安全位置     | 立即     |
| shield          | 免疫一次攻擊               | 直到使用 |
| freeze_immunity | 免疫冰凍效果，移動速度提升 | 8 秒     |

### ⚔️ 戰鬥機制

#### 搜尋者攻擊

- **攻擊範圍**: 80 像素圓形範圍
- **攻擊效果**: 直接擊殺躲藏者
- **冷卻時間**: 1 秒

#### 躲藏者攻擊

- **攻擊範圍**: 80 像素圓形範圍
- **攻擊效果**: 冰凍搜尋者 3 秒（無法移動和攻擊）
- **冷卻時間**: 1 秒

### 👻 幽靈模式

死亡玩家進入幽靈狀態：

- **自由移動**: 可穿越所有障礙物
- **全地圖視野**: 無邊界限制
- **觀戰模式**: 可觀看其他玩家遊戲
- **透明外觀**: 半透明顯示
- **快速移動**: 移動速度提升

### 🗺️ 地圖系統

#### 隨機地圖生成

- **地圖大小**: 1600 x 1200 像素
- **障礙物**: 每局隨機生成 15-25 個障礙物
- **安全區域**: 自動計算無碰撞的玩家出生點
- **種子系統**: 每局使用不同種子確保地圖隨機性

#### 小地圖功能

- **即時位置**: 顯示所有玩家當前位置
- **顏色編碼**: 搜尋者(紅色)、躲藏者(藍色)、自己(綠色)
- **隱身處理**: 隱身狀態的玩家在小地圖上不顯示
- **障礙物**: 顯示地圖障礙物位置

### 🤖 AI 行為系統

#### 搜尋者 AI (強化版)

- **積極追擊**: 無距離限制，主動追蹤所有可見躲藏者
- **快速反應**: 每 0.5 秒更新目標，提升反應速度
- **全地圖搜索**: 800 像素巡邏範圍，覆蓋大部分地圖
- **主動巡邏**: 找不到目標時進行戰略性移動搜索
- **精確移動**: 使用標準化方向向量，確保直線追擊
- **智能攻擊**: 進入攻擊範圍時自動發動攻擊
- **道具戰術**: 戰略性使用道具提升追擊效果

#### 躲藏者 AI

- **迴避行為**: 遠離搜尋者，選擇安全路線
- **障礙物利用**: 利用地圖障礙物作為掩護
- **反擊時機**: 搜尋者靠近時進行冰凍攻擊
- **道具策略**: 危險時使用逃脫道具

### 🏆 勝利條件

#### 搜尋者勝利

- 在 60 秒內擊殺所有躲藏者
- 顯示 "搜尋者獲勝！" 訊息

#### 躲藏者勝利

- 至少有一名躲藏者存活到時間結束
- 顯示 "躲藏者獲勝！" 訊息

### 📊 遊戲階段

1. **大廳階段** (5 秒): 玩家創建、地圖生成
2. **傳送階段** (3 秒): 玩家傳送到隨機位置
3. **角色顯示** (3 秒): 顯示所有玩家的角色身分
4. **遊戲階段** (60 秒): 正式開始躲貓貓
5. **結果階段**: 顯示勝負結果

## �🛍️ 商店物品 (經典模式)

### 武器和道具 (1-6)

| 物品             | 價格    | 效果             |
| ---------------- | ------- | ---------------- |
| Health Potion    | 5 星星  | 恢復 50 點生命值 |
| Speed Boost      | 10 星星 | 永久提升移動速度 |
| Laser Weapon     | 15 星星 | 解鎖雷射武器     |
| Plasma Weapon    | 25 星星 | 解鎖電漿武器     |
| Missile Launcher | 50 星星 | 解鎖飛彈發射器   |
| Ion Cannon       | 80 星星 | 解鎖離子砲       |

### 太空船 (7-0)

| 太空船      | 價格     | 特色                 |
| ----------- | -------- | -------------------- |
| Fighter     | 40 星星  | 高速戰鬥機，快速連射 |
| Interceptor | 80 星星  | 超高速，散射攻擊     |
| Destroyer   | 120 星星 | 重型艦，飛彈攻擊     |
| Battleship  | 200 星星 | 最強防禦，離子砲     |

## 🏆 遊戲流程

### 完整遊戲體驗

1. **主畫面**: 觀賞星空背景，點擊開始遊戲
2. **初期戰鬥**: 擊敗敵人，收集星星和道具
3. **進度追蹤**: 畫面顯示 Boss 出現倒數
4. **Boss 戰**: 達到 60 個擊殺後進入 Boss 戰
5. **勝利慶祝**: 擊敗 Boss 後煙火慶祝
6. **收集禮物**: 拿取 Boss 掉落的金色禮物
7. **返回主畫面**: 自動返回主畫面，可重新開始

### 勝利條件

- 擊敗 Boss 敵人
- 收集 Boss 掉落的禮物
- 觸發煙火慶祝動畫
- 獲得隨機強力藥水效果

### 失敗條件

- 生命值歸零
- 撞到敵人、Boss 或炸彈
- 被 Boss 攻擊擊中

## 🚀 如何開始

### 系統需求

- Python 3.6+
- Pygame 庫

### 安裝和執行

```bash
# 安裝 Pygame
pip install pygame

# 執行遊戲
python3 main.py
```

## 🎮 遊戲畫面說明

### 主畫面

- **遊戲標題**: 「Galaxy Blaster」發光效果
- **星空背景**: 動態星空背景效果
- **開始按鈕**: 滑鼠懸停有高亮效果
- **操作說明**: 詳細的控制方式說明

### 遊戲 UI 介面

- **生命值條**: 螢幕左上角顯示當前生命值
- **分數**: 擊敗敵人獲得的分數
- **星星數量**: 當前擁有的星星數量
- **當前武器**: 顯示正在使用的武器類型
- **當前太空船**: 顯示太空船類型
- **特殊攻擊**: 顯示冷卻時間
- **Boss 倒數**: 顯示 Boss 出現所需的剩餘擊殺數
- **Boss 血量條**: Boss 戰時在螢幕頂部顯示

### 視覺效果

- **煙火動畫**: Boss 擊敗後的慶祝效果
- **粒子效果**: 動態煙火粒子系統
- **發光禮物**: Boss 禮物有閃爍發光效果
- **幾何圖形**: 使用精緻幾何圖形表現所有遊戲物件

## 🔧 技術特色

- **模組化架構**: entities/ 和 systems/ 分離設計
- **配置驅動**: 所有遊戲參數由 config.py 統一管理
- **狀態機設計**: 完整的遊戲狀態管理系統
- **AI 行為系統**: 智能機器人行為模式
- **隨機地圖生成**: 程序化地圖生成算法
- **實時小地圖**: 動態小地圖系統
- **碰撞檢測**: AABB 矩形碰撞檢測
- **粒子系統**: 煙火效果實現
- **攝影機系統**: 跟隨玩家的攝影機視角
- **多人遊戲邏輯**: 支援多玩家同時遊戲

## 🎨 開發風格

- 遵循 PEP 8 程式碼風格
- 詳細的繁體中文註解
- 清楚的函數文檔字串
- 模組化的程式結構
- 配置驅動的遊戲設計

---

**開發者**: Galaxy Blaster Development Team  
**版本**: 3.0 - 躲貓貓多人版本  
**開發語言**: Python + Pygame  
**特色**: 三種遊戲模式，全新躲貓貓多人遊戲體驗
